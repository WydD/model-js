!function(a){"use strict";function b(){}Object.create||(Object.create=function(){function a(){}return function(b){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return a.prototype=b,new a}}());var c=/xyz/.test(function(){})?/\b_super\b/:/.*/;b.extend=function(a){var d=this.prototype,e=Object.create(d);for(var f in a)e[f]="function"==typeof a[f]&&"function"==typeof d[f]&&c.test(a[f])?function(a,b){return function(){var c=this._super;this._super=d[a];var e=b.apply(this,arguments);return this._super=c,e}}(f,a[f]):a[f];var g="function"==typeof e.init?e.init:function(){};return g.prototype=e,e.constructor=g,g.extend=b.extend,g},a.Class=b}(this),function(a){a.Model=Class.extend({init:function(a){if(a){if("object"!=typeof a||a instanceof Array)throw new Error("The given data is not an object");for(var b in a)if("function"!=typeof a[b]){var c,d=this["_"+b];if("undefined"==typeof d)this[b]=a[b];else if(d instanceof Array&&"function"==typeof d[0]&&1==d.length){c=d[0];var e=a[b];if(!(e instanceof Array))throw new Error("Data object given for the field "+b+" is not an object though it's declared like one");for(var f=[],g=0,h=e.length;h>g;g++)f[g]=new c(e[g]);this[b]=f}else{if("function"!=typeof d)throw new Error("Invalid model declaration for field "+b);c=d,this[b]=new c(a[b])}}}}})}(this);